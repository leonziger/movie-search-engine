(this["webpackJsonpreact-movies-search-engine"]=this["webpackJsonpreact-movies-search-engine"]||[]).push([[0],{61:function(e,a,t){e.exports=t(94)},66:function(e,a,t){},85:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(8),o=t.n(i),c=(t(66),t(31)),m=t(44),s=t(45),l=t(53),u=t(52),d=t(46),h=t.n(d).a.create({baseURL:"https://api.themoviedb.org/4",headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZTBmMDVhMGY0YmI1NmU0MzUzZjI0ZGI4ZjRmMzBlZiIsInN1YiI6IjVlMzJjYWRiOThmMWYxMDAxODAwZDIxMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.NLUMl9-zRVrDvADho0Kibf89Ankhl39Si2z9DgSawg8")}}),g="https://image.tmdb.org/t/p/w300_and_h450_bestv2",v=function(e){e.poster_path=g+e.poster_path,e.backdrop_path=g+e.backdrop_path},f=function(e){return h.get("/search/movie",e).then((function(e){var a=e.data;return a.results.forEach(v),a})).catch((function(e){throw e.data}))},p=[{id:28,name:"Action",ru_name:"\u042d\u043a\u0448\u043d"},{id:12,name:"Adventure",ru_name:"\u041f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},{id:16,name:"Animation",ru_name:"\u0410\u043d\u0438\u043c\u0430\u0446\u0438\u044f"},{id:35,name:"Comedy",ru_name:"\u041a\u043e\u043c\u0435\u0434\u0438\u044f"},{id:80,name:"Crime",ru_name:"\u041a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},{id:99,name:"Documentary",ru_name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439"},{id:18,name:"Drama",ru_name:"\u0414\u0440\u0430\u043c\u0430"},{id:10751,name:"Family",ru_name:"\u0421\u0435\u043c\u0435\u0439\u043d\u044b\u0439"},{id:14,name:"Fantasy",ru_name:"\u0424\u0435\u043d\u0442\u0435\u0437\u0438"},{id:36,name:"History",ru_name:"\u0418\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439"},{id:27,name:"Horror",ru_name:"\u0423\u0436\u0430\u0441\u044b"},{id:10402,name:"Music",ru_name:"\u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439"},{id:9648,name:"Mystery",ru_name:"\u041c\u0438\u0441\u0442\u0438\u043a\u0430"},{id:10749,name:"Romance",ru_name:"\u0420\u043e\u043c\u0430\u043d\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439"},{id:878,name:"Science Fiction",ru_name:"\u041d\u0430\u0443\u0447\u043d\u0430\u044f \u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430"},{id:10770,name:"TV Movie",ru_name:"\u0442\u0435\u043b\u0435\u0444\u0438\u043b\u044c\u043c"},{id:53,name:"Thriller",ru_name:"\u0442\u0440\u0438\u043b\u043b\u0435\u0440"},{id:10752,name:"War",ru_name:"\u0412\u043e\u0435\u043d\u043d\u044b\u0439"},{id:37,name:"Western",ru_name:"\u0412\u0435\u0441\u0442\u0435\u0440\u043d"}],E=(t(84),t(128)),y=t(130),_=t(131),b=t(124),N=t(132),M=t(129),w=(t(85),function(e){return r.a.createElement(b.a,{container:!0,spacing:1},r.a.createElement("form",{className:"search-form"},r.a.createElement(b.a,{item:!0,lg:11},r.a.createElement(N.a,{InputProps:{className:"whiteBg"},label:"\u041f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u043c\u0430",name:"film",color:"primary",id:"outlined-basic",variant:"outlined",fullWidth:!0,size:"medium",value:e.query,onChange:e.onChange})),r.a.createElement(b.a,{item:!0,lg:1},r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:e.submitForm},"\u041f\u043e\u0438\u0441\u043a"))))}),P=(t(89),function(e){return r.a.createElement(E.a,{position:"fixed"},r.a.createElement(y.a,null,r.a.createElement(_.a,{variant:"h1",component:"h2"},r.a.createElement("a",{className:"header-title",href:"/"},"Movie Search Engine")),r.a.createElement(w,{query:e.query,page:e.page,totalPages:e.totalPages,onChange:e.handleChange,formSubmitHandler:e.formSubmitHandler,submitForm:e.submitForm})))}),q=t(133),C=(t(90),function(e){return r.a.createElement("div",{className:"movie-search__container"},r.a.createElement("div",{className:"movie-search-result"},'\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',e.query,'" \u043d\u0430\u0439\u0434\u0435\u043d\u043e ',e.totalResults," \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"),r.a.createElement(q.a,{page:e.page,count:e.totalPages,variant:"outlined",shape:"rounded",onChange:e.changePage}))}),I=(t(91),function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-img"},r.a.createElement("img",{className:"card-img-top",alt:"",src:e.movie.backdrop_path||e.movie.poster_path})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},e.movie.title,isNaN(e.movie.release_date)?" ("+new Date(e.movie.release_date).getFullYear()+")":""),e.movie.genre_ids.length>0?r.a.createElement("div",{className:"card-genres"},r.a.createElement("b",null,"\u0416\u0430\u043d\u0440:\xa0"),function(e){var a="";return e.forEach((function(e){p.forEach((function(t){t.id===e&&(a+=t.ru_name.toLowerCase()+", ")}))})),a.slice(0,-2)}(e.movie.genre_ids)):"",r.a.createElement("div",{className:"card-overview"},e.movie.overview)))}),S=function(e){return r.a.createElement(y.a,null,e.data.state.totalResults>0?r.a.createElement("div",null,r.a.createElement(C,{query:e.data.state.query,currentPage:e.data.state.startPage,totalPages:e.data.state.totalPages,totalResults:e.data.state.totalResults,changePage:e.data.changePage}),r.a.createElement(b.a,{container:!0,spacing:4},e.data.state.movies.map((function(e){return r.a.createElement(b.a,{item:!0,lg:3,md:4,sm:6,key:e.id},r.a.createElement(I,{key:e.id,movie:e}))})))):r.a.createElement("div",{className:"movie-search-nothing"},"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))};t(92);function k(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container footer-copy"},"Movie Search Engine. Copyright 2020."))}t(93);var R=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(m.a)(this,t),(e=a.call(this)).handleChange=function(a){e.setState({query:a.target.value})},e.submitForm=function(){e.state.query.length>0&&e.searchMovies(e.state.query)},e.searchMovies=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f({params:Object(c.a)({query:e.state.query,language:"ru-RU",include_adult:"false"},a)}).then((function(t){e.setState(Object(c.a)({totalPages:t.total_pages,totalResults:t.total_results,movies:t.results},a))})).catch((function(a){return e.setState({error:!0})}))},e.changePage=function(a,t){e.searchMovies({page:t})},e.findFilm=r.a.createRef(),e.state={query:"star",currentPage:1,totalPages:0,totalResults:0,movies:[]},e}return Object(s.a)(t,[{key:"formSubmitHandler",value:function(e){return e.preventDefault(),!1}},{key:"render",value:function(){var e=this.state.error?r.a.createElement("p",{className:"App-error"},"Movies can't be loaded on this page"):"";return r.a.createElement("div",null,r.a.createElement(P,{query:this.state.query,page:this.state.page,totalPages:this.state.totalPages,handleChange:this.handleChange,formSubmitHandler:this.formSubmitHandler,submitForm:this.submitForm}),r.a.createElement("div",{className:0===this.state.query.length?"App-content":"App-content_clean"},this.state.query?r.a.createElement(S,{data:this}):e),r.a.createElement(k,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.4574df85.chunk.js.map